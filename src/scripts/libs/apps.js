var app=app||{};!function(e,n,t){e.json=function(e){return e.json()};var o={notify:"all"};e.update_option=function(e,n){var t;"object"==typeof e?t=e:(t={})[e]=n;var o=new Promise(function(e,n){chrome.storage.sync.set(t,function(){e()})});return"function"==typeof n&&"object"==typeof e&&o.then(n),o},e.get_option=function(n,t){var o=new Promise(function(t,o){e.get_options(n).then(function(e){t(e[n])})});return"function"==typeof t&&o.then(t),o},e.get_options=function(e,t){"function"==typeof e?(t=e,e=o):e=e||o;var r=new Promise(function(t,o){n.storage.sync.get(e,t)});return"function"==typeof t&&r.then(t),r},e.versionCompare=function(e,n,t){function o(e){return(r?/^\d+[A-Za-z]*$/:/^\d+$/).test(e)}var r=t&&t.lexicographical,i=t&&t.zeroExtend,c=e.split("."),f=n.split(".");if(!c.every(o)||!f.every(o))return NaN;if(i){for(;c.length<f.length;)c.push("0");for(;f.length<c.length;)f.push("0")}r||(c=c.map(Number),f=f.map(Number));for(var u=0;u<c.length;++u){if(f.length===u)return 1;if(c[u]!==f[u])return c[u]>f[u]?1:-1}return c.length!==f.length?-1:0},e.config=function(e){return"undefined"!=typeof GM?GM.config(e):_.isUndefined(e)?this._config:this._config[e]},e.loadFeed=function(n,t){t=t||{},_.defaults(t,{summary:!0,comments:0});var o=e.config("token")||"1524810784244836|JHLDgUulSUCuBOOkzenqCPHBtHY",r=e.config("group"),i="from,message,created_time";t.summary?i+=",reactions.summary(true).limit(0),shares,comments.summary(true).limit("+t.comments+").order(reverse_chronological)":t.comments&&(i+=",comments.limit("+t.comments+").order(reverse_chronological)");_.defaults(t,{token:o,group:r,fields:i,limit:8});var c=e.config("new_posts");c?-1===c.indexOf("?")?c+="?group="+t.group:c+="&group="+t.group:c="https://graph.facebook.com/"+t.group+"/feed?access_token="+t.token+"&fields="+t.fields+"&limit="+t.limit,fetch(c).then(e.json).then(function(e){e&&e.data&&n(e.data)}).catch(function(e){"undefined"!=typeof GM?GM.noConnection("shared:loadFeed",e):console.error(e)})}}(app,chrome);